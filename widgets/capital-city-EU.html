<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Europ√§ische Hauptst√§dte Quiz</title>
    
    <!-- Einbindung von Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Einbindung von Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        /* Grundlegende Stile und Definition der 3D-Flipping-Animation */
        body {
            font-family: 'Inter', sans-serif;
            background-color: transparent; /* Erm√∂glicht die Einbettung als Widget */
        }
        .card-container {
            perspective: 1000px; /* Wichtig f√ºr den 3D-Effekt */
        }
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .card.is-flipped {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden; /* Versteckt die R√ºckseite einer Karte */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .card-back {
            transform: rotateY(180deg);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <!-- Hauptcontainer f√ºr das Quiz-Widget -->
    <div id="quiz-container" class="bg-gray-800 text-white rounded-2xl w-full max-w-md p-6">
        
        <!-- Titel und Fortschrittsanzeige -->
        <div class="text-center mb-4">
            <h1 class="text-2xl font-bold">Hauptstadt-Quiz: Europa</h1>
            <p id="progress-text" class="text-gray-400 mt-1">Lade Karten...</p>
        </div>

        <!-- Karten-Container -->
        <div id="card-container" class="card-container h-64 mb-4">
            <!-- Die Karte wird hier per JavaScript eingef√ºgt -->
        </div>

        <!-- End-Screen, der angezeigt wird, wenn alle Karten durch sind -->
        <div id="end-screen" class="hidden text-center p-8">
            <h2 class="text-3xl font-bold text-green-400 mb-2">Gl√ºckwunsch!</h2>
            <p class="text-gray-300 mb-6">Du hast alle Karten durchgesehen.</p>
            <button id="restart-button" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg transition-all active:scale-95">Nochmal starten</button>
        </div>

        <!-- Steuerungs-Buttons -->
        <div id="controls" class="flex justify-between items-center">
            <button id="flip-button" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-all active:scale-95 w-full">Umdrehen</button>
            <button id="next-button" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg transition-all active:scale-95 w-full ml-4">N√§chste</button>
        </div>
    </div>

    <script>
        // --- DATEN ---
        // Die Daten f√ºr die Lernkarten (leicht erweiterbar)
        const europaDaten = [
            { land: "Deutschland", hauptstadt: "Berlin", flagge: "üá©üá™" },
            { land: "√ñsterreich", hauptstadt: "Wien", flagge: "üá¶üáπ" },
            { land: "Schweiz", hauptstadt: "Bern", flagge: "üá®üá≠" },
            { land: "Frankreich", hauptstadt: "Paris", flagge: "üá´üá∑" },
            { land: "Italien", hauptstadt: "Rom", flagge: "üáÆüáπ" },
            { land: "Spanien", hauptstadt: "Madrid", flagge: "üá™üá∏" },
            { land: "Portugal", hauptstadt: "Lissabon", flagge: "üáµüáπ" },
            { land: "Vereinigtes K√∂nigreich", hauptstadt: "London", flagge: "üá¨üáß" },
            { land: "Irland", hauptstadt: "Dublin", flagge: "üáÆüá™" },
            { land: "Niederlande", hauptstadt: "Amsterdam", flagge: "üá≥üá±" },
            { land: "Belgien", hauptstadt: "Br√ºssel", flagge: "üáßüá™" },
            { land: "Luxemburg", hauptstadt: "Luxemburg", flagge: "üá±üá∫" },
            { land: "D√§nemark", hauptstadt: "Kopenhagen", flagge: "üá©üá∞" },
            { land: "Schweden", hauptstadt: "Stockholm", flagge: "üá∏üá™" },
            { land: "Norwegen", hauptstadt: "Oslo", flagge: "üá≥üá¥" },
            { land: "Finnland", hauptstadt: "Helsinki", flagge: "üá´üáÆ" },
            { land: "Polen", hauptstadt: "Warschau", flagge: "ÔøΩüá±" },
            { land: "Tschechien", hauptstadt: "Prag", flagge: "üá®üáø" },
            { land: "Griechenland", hauptstadt: "Athen", flagge: "üá¨üá∑" },
            { land: "Ungarn", hauptstadt: "Budapest", flagge: "üá≠üá∫" }
        ];

        // --- QUIZ-LOGIK IN EINER KLASSE ---
        class FlashcardQuiz {
            constructor(data) {
                // DOM-Elemente ausw√§hlen
                this.cardContainer = document.getElementById('card-container');
                this.progressText = document.getElementById('progress-text');
                this.flipButton = document.getElementById('flip-button');
                this.nextButton = document.getElementById('next-button');
                this.endScreen = document.getElementById('end-screen');
                this.controls = document.getElementById('controls');
                this.restartButton = document.getElementById('restart-button');
                
                // Quiz-Status initialisieren
                this.allCards = data;
                this.shuffledCards = [];
                this.currentCardIndex = 0;
                this.isFlipped = false;

                // Event Listeners binden
                this.flipButton.addEventListener('click', () => this.flipCard());
                this.nextButton.addEventListener('click', () => this.nextCard());
                this.restartButton.addEventListener('click', () => this.start());

                this.start();
            }
            
            // Mischt die Karten in einer zuf√§lligen Reihenfolge
            shuffle(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            // Startet oder startet das Quiz neu
            start() {
                this.shuffledCards = this.shuffle([...this.allCards]);
                this.currentCardIndex = 0;
                this.isFlipped = false;
                
                // UI zur√ºcksetzen
                this.endScreen.classList.add('hidden');
                this.controls.classList.remove('hidden');
                this.cardContainer.classList.remove('hidden');

                this.loadCard();
            }

            // L√§dt die aktuelle Karte in das DOM
            loadCard() {
                if (this.currentCardIndex >= this.shuffledCards.length) {
                    this.showEndScreen();
                    return;
                }

                const cardData = this.shuffledCards[this.currentCardIndex];
                this.isFlipped = false; // Jede neue Karte startet ungekippt

                this.cardContainer.innerHTML = `
                    <div class="card">
                        <!-- Vorderseite der Karte -->
                        <div class="card-face bg-gray-700 rounded-lg p-4">
                            <p class="text-gray-400 text-sm mb-2">Welche Hauptstadt hat</p>
                            <h2 class="text-3xl font-bold text-center">${cardData.land}?</h2>
                        </div>
                        <!-- R√ºckseite der Karte -->
                        <div class="card-face card-back bg-blue-600 rounded-lg p-4">
                            <p class="text-5xl mb-2">${cardData.flagge}</p>
                            <h2 class="text-3xl font-bold">${cardData.hauptstadt}</h2>
                        </div>
                    </div>
                `;
                
                // F√ºgt einen Event Listener f√ºr das Klicken auf die Karte hinzu
                const cardElement = this.cardContainer.querySelector('.card');
                cardElement.addEventListener('click', () => this.flipCard());

                this.updateProgress();
            }

            // Dreht die Karte um
            flipCard() {
                const card = this.cardContainer.querySelector('.card');
                if (card) {
                    this.isFlipped = !this.isFlipped;
                    card.classList.toggle('is-flipped', this.isFlipped);
                }
            }
            
            // Wechselt zur n√§chsten Karte
            nextCard() {
                this.currentCardIndex++;
                this.loadCard();
            }

            // Aktualisiert den Fortschrittstext
            updateProgress() {
                this.progressText.textContent = `Karte ${this.currentCardIndex + 1} von ${this.shuffledCards.length}`;
            }

            // Zeigt den Endbildschirm an
            showEndScreen() {
                this.cardContainer.classList.add('hidden');
                this.controls.classList.add('hidden');
                this.endScreen.classList.remove('hidden');
                this.progressText.textContent = "Fertig!";
            }
        }

        // --- INITIALISIERUNG ---
        document.addEventListener('DOMContentLoaded', () => {
            new FlashcardQuiz(europaDaten);
        });

    </script>
</body>
</html>
